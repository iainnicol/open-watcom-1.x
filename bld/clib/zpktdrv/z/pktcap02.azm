		P486
		MODEL	USE32 SMALL
		INCLUDE	'ZDOSAPI.INC'
		INCLUDE	'ZPKTDRV.INC'
		CODESEG
		EXTRN	DosError			: PROC
		PUBLIC	DosPktDrvWaitPacket_
;
; DECLARATION	int DosPktDrvWaitPacket( int Handle, void *Buffer );
;
PROC		DosPktDrvWaitPacket_	STDCALL
		push	ebx				; Save context
		lea	ebx,[eax + eax]			; EBX = handle
		mov	ah,PKTDRV_WAIT_PACKET		; Wait for a packet
		int	PKTDRV_CAPTURE
		pop	ebx				; Restore context
		jmp	DosError			; Process return code
ENDP
		END
