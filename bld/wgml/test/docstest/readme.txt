NOTE to Linux users:
Since I do not use Linux, I have no way of testing dosemu, and so made no changes to accomodate it.
However, the only change needed for DosBox was to change the GMLLIB/GMLINC rewrites to use the fixed paths used here (as opposed to the relative paths in the original mif files), and no similar section appears for dosemu, so it may be that it will, in fact, work as-is.

INTRODUCTION

This file contains notes on the facility created for testing our wgml and ultimately for validating it by showing that it produces byte-wise identical output with wgml 4.0 when applied to the Open Watcom documents using devices WHELP and PS.

MIF FILES MODIFIED

The mif files have been modified in several ways:
1. The paths to the doc and bld directories have been changed from relative paths to fixed paths, using OWROOT.
2. The path to the mif directory was modified from "..\mif" to "..\..\mif" because the working directories are now one level further down. If makefiles in ps\pdf and ps\pdf4 are actually used, then the path to the mif directory will probably need to become fixed, using OWROOT.
3. (Planned) The WHELP document build process is broken down into four stages: initial wgml pass (1a), initial whpcvt pass (1b), final wgml pass (2a), and final whpcvt pass (2b).
4. (Planned) The relevant mif will need to be modified to avoid the help compilers being applied unless all four passes (1a through 2b) are done.
5. (Planned) The correct version of our wgml will need to be selectable, while the correct version of wgml 4.0 continues to be selectable.
6. (Planned) A test for diffs between the appropriate versions of the resulting files will need to be added.

MIFTEST

Because the mif files have been modified, miftest was created to produce the Open Watcom documents using the modified mif files. Since actually checking for diffs is not yet implemented, CSDiff was used manually.

CSDiff allows entire directories to be compared, returning one of the results "Deleted", "Modified", "New" or "Same". If the result is "Modified", then a file-specific diff can be displayed.

This has its advantages, but, even if otherwise suitable to our purpose, would require CSDiff to used by everyone running the tests. A better choice for automation can, hopefully, be found.

The testing done was quite extensive: not only were each of dos, htmlhelp, nt, os2, and win compared against itself, cross-comparisons were also done. Some observations may be helpful:
1. If the PTF files are the same for the same target, then all the files generated by wgml/whpcvt for that document are the same.
2. If these files have been used, additional files created by the help program may be present.
3. In any case, the makefile will be flagged as "modified".
4. Spot-checks of the differences suggest that the body of the document is the same in all cases: all diffs seen were at the start, where the three files generated by wgml (pass 1a) and (presumably) modified by whpcvt (pass 1b) are then re-inserted on the second wgml pass (2a).
5. However, a few documents for dos may differ from the others (this needs to be checked out).
6. In the cross-target checks, only htmlhelp and os2 had no ptf file diffs. The htmlhelp directory, of course, had a lot of html files not found in the os2 directory.
